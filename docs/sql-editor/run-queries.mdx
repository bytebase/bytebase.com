---
title: Query
---

<Info>

By default, SQL Editor allows executing both read (SELECT) and write (DDL/DML) SQL statements.

You can restrict SQL Editor to read-only mode by configuring [Statement Execution Mode](/change-database/environment-policy/overview#statement-execution-mode). In read-only mode, if you attempt to run DDL or DML change queries, SQL Editor will prompt you to create a new issue to start the [SQL change workflow](/change-database/change-workflow).

Workspace Admins and DBAs can always execute any SQL statements in [Admin Mode](/sql-editor/admin-mode).

</Info>

## Autocomplete

![autocomplete](/content/docs/sql-editor/autocomplete.webp)

Autocomplete depends on WebSocket. If you access Bytebase via a gateway, you need to enable WebSocket there. Here is a NGINX configuration:

```nginx

http {
    server {
        ...

       location ~ ^/(v1:adminExecute|lsp) {
            proxy_pass http://bytebase.example.com;
            proxy_http_version 1.1;
            # Enables WebSocket which is required for SQL Editor autocomplete
            proxy_set_header Upgrade $http_upgrade;
            proxy_set_header Connection $connection_upgrade;
        }
        ...
    }
}
```

## Run query

Click the `Run` button or use the shortcut key `(⌘ + Enter)` to run your queries in the SQL Editor.

If you have multiple SQL queries separated by semicolons, SQL Editor will only run the first query for now.

### Max returned row count

SQL Editor can return at most **100,000 rows**.

![Query Row Limit](/content/docs/sql-editor/query-row-limit.webp)

### Max returned result size

The default query result size is **100 MB**. You can change it under the Workspace settings.

![Query Result Size Limit](/content/docs/sql-editor/query-result-size-limit.webp)

## Export data

<Info>

The exported data still respects the [masking policy](/sql-editor/mask-data/) to mask exported columns if enforced.

</Info>

If you have been granted export access, you can directly export query results in various formats.

![Export Data](/content/docs/sql-editor/export-data.webp)

Otherwise, you can request the exported data

![Request Export](/content/docs/sql-editor/export-request1.webp)
![Request Export](/content/docs/sql-editor/export-request2.webp)

## EXPLAIN query

![Explain Query](/content/docs/sql-editor/explain-query.webp)

SQL Editor provides an `Explain Query` action to run EXPLAIN on the selected query. You can access it from right click or use the shortcut key `(⌘ + E)` instead of prepending EXPLAIN manually.

Bytebase provides visual plan representations for different databases:

- **PostgreSQL**: Embeds [PEV2](https://github.com/dalibo/pev2) to visualize the execution plan

    ![visualize-plan](/content/docs/sql-editor/explain-postgres-1.webp)
    ![visualize-plan](/content/docs/sql-editor/explain-postgres-2.webp)

- **SQL Server**: Provides native graphical execution plan visualization

    ![mssql-visualize-plan](/content/docs/sql-editor/explain-mssql-1.webp)
    ![mssql-visualize-plan](/content/docs/sql-editor/explain-mssql-2.webp)

## Batch mode

You can batch query many databases having the same schema:

![batch-query-setting](/content/docs/sql-editor/bb-batch-query-setting.webp)

For each database, the query result will show up in its own tab:

![batch-query-result1](/content/docs/sql-editor/bb-batch-query-results.webp)
