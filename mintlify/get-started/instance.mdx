---
title: Connect Your Database
---

import PostgreSQLConfig from '/snippets/get-started/instance/postgresql.mdx';
import OracleConfig from '/snippets/get-started/instance/oracle.mdx';
import SnowflakeConfig from '/snippets/get-started/instance/snowflake.mdx';
import MongoDBConfig from '/snippets/get-started/instance/mongodb.mdx';
import ClickHouseConfig from '/snippets/get-started/instance/clickhouse.mdx';
import DatabricksConfig from '/snippets/get-started/instance/databricks.mdx';
import SpannerConfig from '/snippets/get-started/instance/spanner.mdx';

Learn how to connect Bytebase to your database instances, configure authentication, and set up advanced security options.

## Quick Start

Navigate to the configuration section for your cloud provider, or start with general configuration options that apply to all databases:

<Columns cols={4}>
  <Card title="General Setup" href="#general-configuration" icon="settings" />
  <Card title="AWS" href="#aws-configuration" icon="aws" />
  <Card title="Google Cloud" href="#gcp-configuration" icon="google" />
  <Card title="Azure" href="#azure-configuration" icon="microsoft" />
</Columns>

## General Configuration

### Basic Connection

Before configuring connection parameters, ensure network connectivity:

**Network Requirements:**
- Verify network routing between Bytebase and your database instance (e.g., VPN, private networks)
- Configure firewall rules to allow Bytebase to connect to your database port
- For cloud databases, add Bytebase to security groups or IP allowlists
- Bytebase Cloud users: [Whitelist required IPs](/get-started/cloud#prerequisites)

**Connection Parameters:**

1. **Host**: Database server address
   - Docker (standard): Use `host.docker.internal` for localhost databases
   - Docker (--network host): Use `127.0.0.1` for localhost databases

2. **Port**: Database port number (e.g., 5432 for PostgreSQL, 3306 for MySQL)

3. **Username & Password**: Database credentials with appropriate permissions

Additional parameters vary by database type - see [Database-Specific Guides](#database-specific-guides) for your database's requirements.

### Read-Only Connections

Configure separate read-only connections for enhanced security and performance. Read-only connections are used for:
- SQL Editor queries with [data source restrictions](/sql-editor/settings/data-source-restriction)
- [Export Center operations](/security/database-permission/export#request-from-export-center)

**Setup:**
1. Create a read-only database user or configure a read-replica
2. In Bytebase, click **+** next to **Connection Info**
3. Enter the read-only connection details
4. Save the configuration

### SSH Tunnel

<PricingPlanBlock feature_name="SSH_TUNNEL" />

Use SSH tunneling to connect through a bastion host or jump server when your database is behind a firewall, in a private network, or requires specific security policies for access. This is common for databases in different VPCs or restricted network segments.

**Setup:**
1. Enter your database connection details as usual
2. Enable **SSH Connection** and select **Tunnel + Private Key**
3. Configure SSH tunnel settings:
   - **SSH Host**: Bastion host or jump server address
   - **SSH Port**: SSH port (typically 22)
   - **SSH User**: Username for SSH authentication
   - **Private Key** or **Password**: SSH authentication credentials
4. Test the connection and save

### Connection Parameters

Customize connection behavior with database-specific parameters:

**Common Parameters:**

| Parameter | Description | Example | Databases |
|-----------|------------|---------|-----------|
| `sslmode` | SSL connection mode | `require` | PostgreSQL |
| `connect_timeout` | Connection timeout | `10` | PostgreSQL, MySQL |
| `readTimeout` | Read operation timeout | `30s` | MySQL, SQL Server |
| `max_connections` | Maximum connections | `100` | All |

**Database Documentation:**
- [PostgreSQL Parameters](https://www.postgresql.org/docs/current/libpq-connect.html)
- [MySQL Parameters](https://github.com/go-sql-driver/mysql#parameters)
- [SQL Server Parameters](https://pkg.go.dev/github.com/microsoft/go-mssqldb#section-readme)
- [Oracle Parameters](https://github.com/sijms/go-ora)

### Secret Manager

<PricingPlanBlock feature_name="EXTERNAL_SECRET_MANAGER" />

Integrate with external secret managers for centralized credential management. Use this for corporate compliance, automatic password rotation, or when you prefer not to store credentials directly in Bytebase.

**Supported Providers:**
- **HashiCorp Vault** - Configure below
- **[AWS Secrets Manager](#aws-secrets-manager)** - See AWS configuration section
- **[GCP Secret Manager](#gcp-secret-manager)** - See GCP configuration section
- **Custom API Endpoint** - Configure below

#### HashiCorp Vault

<Note>
Requires Vault KV v2 engine
</Note>

**Vault Setup:**
1. Create secret in Vault:
   - Engine: `secret`
   - Path: `bytebase`
   - Key: `DB_PASSWORD`
   - Value: Your password

**Bytebase Configuration:**
1. Enter Vault URL
2. Choose authentication method:
   - **[Token](https://developer.hashicorp.com/vault/docs/auth/token)**: Provide access token
   - **[AppRole](https://developer.hashicorp.com/vault/docs/auth/approle)**: Provide role ID and secret ID
3. Specify secret location (engine/path/key)

#### Custom API Endpoint

Integrate with custom secret managers using your API:

**Endpoint Format:** `{{http://example.com/secrets/mydbkey}}`

**Expected Response:**
```json
{
  "payload": {
    "data": "base64_encoded_password"
  }
}
```

## AWS Configuration

### RDS/Aurora with IAM Authentication

Connect to AWS databases using IAM credentials instead of passwords.

#### Prerequisites

Enable IAM authentication when creating your RDS/Aurora instance:

![IAM authentication option](/content/docs/get-started/instance/aws-rds-iam/db-password-iam.webp)

#### Setup IAM Policy

1. Go to **IAM > Policies** and click **Create policy**
   ![](/content/docs/get-started/instance/aws-rds-iam/create-policy.webp)

2. Select `RDS IAM Authentication` for service
   ![](/content/docs/get-started/instance/aws-rds-iam/rds-iam-auth.webp)

3. Select `connect` permission and `specific` as Resources. Check `Any in this account`
   ![](/content/docs/get-started/instance/aws-rds-iam/connect-permission.webp)

   <Info>
   `Any in this account` will mark the resource as `arn:aws:rds-db:*:<<your-db-id>>:dbuser:*/*`, which contains 3 `*`:
   - 1st *: any regions
   - 2nd *: any databases  
   - 3rd *: any database users

   This will allow RDS connect on behalf of all database users in all databases in your account.
   If you want to limit the connection to specific databases, please follow [this doc](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAMDBAuth.IAMPolicy.html).
   </Info>

4. Name it `rds-connect` and create this policy

#### Create IAM User

1. Go to **IAM > Users** and click **Create user**. Name it `rds-connector`
   ![](/content/docs/get-started/instance/aws-rds-iam/create-user.webp)

2. Choose **Attach policy directly** and select the `rds-connect` policy. Click **Next** and then click **Create user**
   ![](/content/docs/get-started/instance/aws-rds-iam/attach-policy.webp)

3. On the user detail page, click **Create access key**
   ![](/content/docs/get-started/instance/aws-rds-iam/access-key.webp)

4. Choose `Application running outside AWS` and click **Next**
   ![](/content/docs/get-started/instance/aws-rds-iam/app-outside-aws.webp)

5. Then you get the **access key** and the **secret access key**
   ![](/content/docs/get-started/instance/aws-rds-iam/retrieve-access-keys.webp)

#### Use IAM Auth in Bytebase

1. Start Bytebase with AWS IAM credentials by passing the AWS environment variables:

   ```bash
   docker run --init \
     -e AWS_ACCESS_KEY_ID=<<your-access-key>> \
     -e AWS_SECRET_ACCESS_KEY=<<your-secret-access-key>> \
     -e AWS_REGION=<<your-aws-region>> \
     ...
   ```

2. Go to RDS instance detail page, you'll find the **endpoint** and **port**
   ![](/content/docs/get-started/instance/aws-rds-iam/mysql-connection.webp)

3. Configure instance connection using `AWS RDS IAM`, create the `bytebase` user with `AWSAuthenticationPlugin` and grant permissions:

   ```sql
   -- For MySQL/Aurora MySQL
   CREATE USER bytebase@'%' IDENTIFIED WITH AWSAuthenticationPlugin AS 'RDS';
   ALTER USER 'bytebase'@'%' REQUIRE SSL;
   ```

4. Use the instance endpoint, port and the username `bytebase` to connect the instance

### AWS Secrets Manager

#### Create an IAM user to access the Secrets Manager

<Tip>
It's recommended to create a dedicated IAM user for Bytebase to retrieve the secrets. You only need to do this once.
</Tip>

Visit [IAM](https://aws.amazon.com/iam/) to create a new IAM user. Name it `bytebase-external-secret`.

![](/content/docs/get-started/instance/aws-secrets-manager/iam-user-detail.webp)

Attach `SecretsManagerReadWrite` permission.

![](/content/docs/get-started/instance/aws-secrets-manager/iam-set-permission.webp)

After creating the IAM user, create an Access Key to be used by Bytebase later.

![](/content/docs/get-started/instance/aws-secrets-manager/iam-create-access-key.webp)

Select `Third-party service` as the use case.

![](/content/docs/get-started/instance/aws-secrets-manager/iam-access-key-use-case.webp)

Optionally set the description tag and in the `Retrieve access keys` screen, record `Access key` and `Secret access key`. They will be passed as environment variables when starting Bytebase.

![](/content/docs/get-started/instance/aws-secrets-manager/iam-access-key-info.webp)

#### Create secret

Visit [AWS Secrets Manager](https://aws.amazon.com/secrets-manager/) to store a new secret. Select `Other type of secret`, and add a key/value pair. The key is `DB_PASSWORD` and the value is your database user password.

![](/content/docs/get-started/instance/aws-secrets-manager/secret-type.webp)

Next to the `Configure secret`, use `bytebase` as the Secret name

![](/content/docs/get-started/instance/aws-secrets-manager/configure-secret.webp)

Skip rotation, review and create the secret.

#### Use secret in Bytebase

Restart Bytebase with the following environment variables:

```bash
docker run --init \
  -e AWS_REGION=us-east-1 \
  -e AWS_ACCESS_KEY_ID=xxx \
  -e AWS_SECRET_ACCESS_KEY=yyy \
  ...
```

Go to instance setting, specify `bytebase` as the Secret name and `DB_PASSWORD` as the Secret key. These two correspond to the value you created in the AWS Secrets Manager.

![](/content/docs/get-started/instance/aws-secrets-manager/auth.webp)

## GCP Configuration

### Cloud SQL with IAM Authentication

#### Create a service account

1. Visit [Service accounts](https://console.cloud.google.com/iam-admin/serviceaccounts) to create a new service account `bytebase`.

2. Grant `Cloud SQL Admin` permission to the service account.
   ![](/content/docs/get-started/instance/gcp-iam/grant-cloud-sql-admin.webp)

3. After the service account is created, you may view the email for the service account `bytebase@<<your-project-name>>.iam.gserviceaccount.com`. Go to **KEYS**.
   ![](/content/docs/get-started/instance/gcp-iam/service-account-keys.webp)

4. Click **ADD KEY** and then **Create new key**.
   ![](/content/docs/get-started/instance/gcp-secret-manager/create-key-file.webp)

5. Choose `JSON` as the key type and click **CREATE**. Keep the downloaded private key file. This will be passed as environment variables when starting Bytebase.
   ![](/content/docs/get-started/instance/gcp-iam/create-pk.webp)

6. Go to Cloud SQL database instance detail page, and make sure `cloudsql_iam_authentication` is enabled.
   ![](/content/docs/get-started/instance/gcp-iam/cloudsql-iam-auth-on.webp)

7. Go to **Users** tab, and click **ADD USER ACCOUNT**.
   ![](/content/docs/get-started/instance/gcp-iam/sql-users.webp)

8. Select `Cloud IAM` and copy/paste the service account email `bytebase@<<your-project-name>>.iam.gserviceaccount.com`.
   ![](/content/docs/get-started/instance/gcp-iam/user-account-type.webp)

9. Then you can get the Cloud SQL IAM user: `bytebase`.
   ![](/content/docs/get-started/instance/gcp-iam/user-added-bytebase.webp)

#### Use IAM Auth in Bytebase

1. Start Bytebase with Google IAM credentials by passing `GOOGLE_APPLICATION_CREDENTIALS` as an environment variable:

   ```bash
   docker run --init \
     -e GOOGLE_APPLICATION_CREDENTIALS=<<your-json-file>> \
     ...
   ```

2. Go to SQL overview page, you'll find the **Connection name**, use it as the host. Choose `Google Cloud SQL IAM` along with your user `bytebase` to connect to the database.
   ![](/content/docs/get-started/instance/gcp-iam/connection-name.webp)

### GCP Secret Manager

#### Create a service account to access the Secret Manager

<Tip>
It's recommended to create a dedicated service account for Bytebase to retrieve the secrets. You only need to do this once.
</Tip>

Visit [Service accounts](https://console.cloud.google.com/iam-admin/serviceaccounts) to create a new service account.

![](/content/docs/get-started/instance/gcp-secret-manager/create-service-account-name.webp)

Grant `Secret Manager Secret Accessor` permission to the service account.

![](/content/docs/get-started/instance/gcp-secret-manager/create-service-account-permission.webp)

After the service account is created, visit its `KEYS` page and add a new key.

![](/content/docs/get-started/instance/gcp-secret-manager/create-key-file.webp)

Choose `JSON` as the key type and create. Keep the downloaded private key file. This will be passed as environment variables when starting Bytebase.

![](/content/docs/get-started/instance/gcp-secret-manager/create-key-file2.webp)

#### Create secret

Visit [GCP Secret Manager](https://console.cloud.google.com/security/secret-manager/create) to create a new secret.

![](/content/docs/get-started/instance/gcp-secret-manager/create-secret.webp)

After creation, note the fully qualified secret name.

![](/content/docs/get-started/instance/gcp-secret-manager/secret-full-name.webp)

#### Use secret in Bytebase

Restart Bytebase by specifying `GOOGLE_APPLICATION_CREDENTIALS`=`private key file` as an environment variable. The private key file is the JSON file downloaded before for the service account.

<Tip>
If you run Bytebase in docker, you need to put the JSON file under the mounted directory. Otherwise, Bytebase won't be able to access the key file.
</Tip>

```bash
docker run --init \
  -e GOOGLE_APPLICATION_CREDENTIALS=/var/opt/bytebase/key.json \
  ...
```

Go to instance setting, specify the fully qualified name such as `projects/228712144016/secrets/DB_PASSWORD` as the Secret full name.

![](/content/docs/get-started/instance/gcp-secret-manager/auth.webp)

## Azure Configuration

### Entra Managed Identity

Bytebase supports connect to Azure SQL through Azure IAM by using default Azure credential and client secret credential. This section introduces how to use [system-assigned managed identity](https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/overview#managed-identity-types) to connect to Azure SQL.
For more information about the credential chain in default Azure credential, please refer to [default azure credential overview](https://learn.microsoft.com/en-us/azure/developer/go/sdk/authentication/credential-chains#how-a-chained-credential-works).

#### Create a VM with enabled system-assigned managed identity

1. Enable system assigned managed identity while creating a VM.
   ![](/content/docs/get-started/instance/azure-iam/enable-system-assigned-managed-identity-while-creating-vm.webp)

2. Deploy the Bytebase on the VM in Docker.

#### Enable Microsoft Entra Authentication in Azure SQL

1. Go to the Azure SQL panel, and set the Microsoft Entra Admin for Azure SQL managed instance, don't forget to click Save button. Once you set the Microsoft Entra Admin, the Microsoft Entra authentication is enabled. Check the [Microsoft guide](https://learn.microsoft.com/en-us/azure/azure-sql/virtual-machines/windows/configure-azure-ad-authentication-for-sql-vm?view=azuresql&tabs=azure-portal) if you use Azure SQL on VM.

   ![](/content/docs/get-started/instance/azure-iam/set-microsoft-entra-admin-in-azure-sql-panel.webp)

#### Create a contained database user

1. Connect to the Azure SQL database using the Microsoft Entra Admin account.

2. For each databases desired to be managed by Bytebase, running the following SQL command inside the database to create a contained database user:

   ```sql
   CREATE USER [<Microsoft_Entra_principal_name>] FROM EXTERNAL PROVIDER;
   ALTER ROLE db_owner ADD MEMBER [<Microsoft_Entra_principal_name>];
   ```

#### Connect to Azure SQL Database in Bytebase

1. Using Azure IAM default credential to connect to Azure SQL database:

   ![](/content/docs/get-started/instance/azure-iam/connect-to-azure-sql-using-azure-iam-frontend-form.webp)

In this way, Bytebase can only connect to one specific Azure SQL database. To manage multiple Azure SQL databases in one instance inside Bytebase, considering set the VM principal as the Azure SQL Managed Instance Microsoft Entra Admin.

## Database-Specific Guides

Configure connection settings for specific database types:

<Tabs>
  <Tab title="PostgreSQL">
    <PostgreSQLConfig />
  </Tab>
  <Tab title="Oracle">
    <OracleConfig />
  </Tab>
  <Tab title="MongoDB">
    <MongoDBConfig />
  </Tab>
  <Tab title="Snowflake">
    <SnowflakeConfig />
  </Tab>
  <Tab title="ClickHouse">
    <ClickHouseConfig />
  </Tab>
  <Tab title="Databricks">
    <DatabricksConfig />
  </Tab>
  <Tab title="Spanner">
    <SpannerConfig />
  </Tab>
</Tabs>

