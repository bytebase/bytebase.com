---
title: Batch Change with Database Group
author: Adela
updated_at: 2025/08/11 18:00
tags: Tutorial
integrations: General
category: 'Database CI/CD (GUI)'
level: Intermediate
estimated_time: '20 mins'
---

import PreparationWithSampleData from '/snippets/tutorials/preparation-with-sample-data.mdx';

Bytebase simplifies deploying changes across multiple databases simultaneously. This tutorial demonstrates how to use **Environments** and **Database Groups** to efficiently manage batch changes across your database fleet.

![database-group-banner](/content/docs/tutorials/batch-change-with-database-group/database-group-banner.webp)

## Prerequisites

- **Environment**: Available in all plans
- **Database Groups**: Requires Pro Plan or higher ([request trial](https://www.bytebase.com/pricing))

## Procedure

## Step 1 - Start Bytebase with sample data

<PreparationWithSampleData />

## Step 2 - Set up environments and databases

1. Navigate to **Environments**. Rename `Prod` to `ProdAsia`, then create two new environments: `ProdEU` and `ProdNA`.

   ![bb-env-3prod](/content/docs/tutorials/batch-change-with-database-group/bb-env-3prod.webp)

1. Click **Select Project** in the top bar, then **New Project**. Name it `Batch Change Project` and click **Create**.

1. In the new project, navigate to **Database > Databases** and click **+ New DB**. Create `demo-test` on the Test instance. Click **Rollout** when the issue appears.

1. Similarly, create the following databases:
   - `demo-prod-1` and `demo-prod-2` on `ProdAsia`
   - `demo-prod-3` and `demo-prod-4` on `ProdEU`
   - `demo-prod-5` and `demo-prod-6` on `ProdNA`

   ![bb-prod-db](/content/docs/tutorials/batch-change-with-database-group/bb-prod-db.webp)

## Step 3 - Execute batch changes by environment (All plans)

1. Navigate to **CI/CD > Plans**, click **+ New Plan**, and select **Schema Change**.

1. Select all databases and click **Confirm**.

1. Enter the following SQL, then click **Create** and **Ready for review**:

   ```SQL
      CREATE TABLE t2("id" INTEGER NOT NULL);
   ```

1. The **Overview** and **Rollout** tabs display four stages: Test, ProdAsia, ProdEU, and ProdNA. You can deploy changes to individual databases or entire stages.

   ![overview-4-stages](/content/docs/tutorials/batch-change-with-database-group/bb-overview-4-stages.webp)
   ![rollout-4-stages](/content/docs/tutorials/batch-change-with-database-group/bb-rollout-4-stages.webp)

1. Go to the **Rollout** tab and click **Run** in the Test stage to execute.

   ![rollout-half-complete](/content/docs/tutorials/batch-change-with-database-group/bb-rollout-half-complete.webp)

## Step 4 - Use database groups (Pro/Enterprise)

We need first to upgrade to Pro/Enterprise Plan to use Database Group.

1. Click the **Setting icon** on the top right, and then click **Workspace > Subscription** to upload the license.

1. Click the pen icon, select the instances you want to enable Enterprise features , and click **Confirm**.

   ![bb-subscription](/content/docs/tutorials/batch-change-with-database-group/bb-subscription.webp)

1. Navigate to **Database > Groups** in your project. Click **+ New database group** and configure:

   - **Name:** `demo-prod-all`
   - **Condition:** `resource.database_name startsWith demo-prod`

   ![bb-groups](/content/docs/tutorials/batch-change-with-database-group/bb-groups.webp)

1. Go to **CI/CD > Plans**, click **+ New Plan**, select **Schema Migration**. Switch to the **Database Group** tab, select `demo-prod-all`, and click **Confirm**.

1. Enter the following SQL, then click **Create** and **Ready for review**:

   ```SQL
      CREATE TABLE t3("id" INTEGER NOT NULL);
   ```

1. The **Overview** and **Rollout** tabs now show 3 production stages. Click **Run** in the ProdAsia stage to execute.
  
   ![bb-overview-3-stages](/content/docs/tutorials/batch-change-with-database-group/bb-overview-3-stages.webp)
   ![bb-rollout-3-stages](/content/docs/tutorials/batch-change-with-database-group/bb-rollout-3-stages.webp)

## Summary

  You've learned how to:
  
  - Group databases by environment for staged rollouts
  - Use Database Groups to target databases matching specific criteria
  - Execute batch changes across multiple databases efficiently