---
title: Bytebase 3.11.0 - Oct 10, 2025
author: Adela
updated_at: 2025/10/10 18:00:00
description: 'Environment rollout policy update'
---

import InstallUpgrade from '/snippets/install/install-upgrade.mdx';

### üîî Notable Changes

- **Environment rollout policy update**
  - **Issue Creators** and **Last Issue Approvers** can no longer roll out issues. Manual rollouts now require specifying workspace/project roles or users with the `bb.taskRuns.create` permission.
  - The force rollout mechanism has been replaced by configurable rollout requirements:
    - **Require Issue Approval** ‚Äì ensures issues must be approved before rollout can proceed (default: enabled).
    - **Plan Check Enforcement** ‚Äì controls rollout behavior based on plan check results (default: block on errors only).

- Deprecate `bb.sql.export` permission and `roles/projectExporter` role. It‚Äôs merged into `SQL Editor User` role, which now can export directly in SQL Editor; Developer can still create Export issue as before.
- Deprecate `request.row_limit` in the project IAM policy. Use `maximum_result_rows` in `QueryDataPolicy` instead.

- **API**

  - Standardize CEL attribute naming with prefixes: `resource.*`, `statement.*`, `request.*` (e.g., environment_id ‚Üí resource.environment_id)
  - Unify risk levels to single `RiskLevel` enum; changed from integers (`100`, `200`, `300`) to strings (`LOW`, `MODERATE`, `HIGH`); CEL expressions migrate from `format level == 300` to `level == "HIGH"`
  - Simplify approval template to singleton with flat role array; replace `approval_finding_done`/`approval_finding_error` with `approval_status` enum
  - Consolidate task types into `DATABASE_MIGRATE` (with `migrate_type`: DDL/DML/GHOST) and `DATABASE_SDL`. Split changelog Type into `Type` and `MigrationType` enums. Merged `DatabaseSchemaUpdate` and `DatabaseDataUpdate` into `DatabaseUpdate`.

- **Terraform** (provider version: 3.11.1)
  
  - Use `RiskLevel` enum instead of numeric values for level in `bytebase_risk`. Example: [risk.tf](https://github.com/bytebase/terraform-provider-bytebase/blob/main/examples/setup/risk.tf)
  - Remove `disable_copy_data_policy`; moved into `query_data_policy` as the `disable_copy_data` field. Example: [environment.tf](https://github.com/bytebase/terraform-provider-bytebase/blob/main/examples/setup/environment.tf#L60)
  - Update structure of the `approval_flow` setting. Example: [approval_flow.tf](https://github.com/bytebase/terraform-provider-bytebase/blob/main/examples/setup/approval_flow.tf)
  - Remove `row_limit` from `bytebase_iam_policy` setting.

- Remove `Format on Save` feature from **SQL Editor**.

### üéÑ Enhancements

- Support key-value instance labels.
- Optimize **Schema Editor** performance.
- Add pre-flight validation and circuit breaker to **gh-ost workflow**.
- **AWS Elasticsearch** ‚Äì Add cross-account support.

### üêû Bug Fixes

- Add fallback behavior for **PostgreSQL** dump topological sorting to prevent blocking dump functionality.

<InstallUpgrade />
