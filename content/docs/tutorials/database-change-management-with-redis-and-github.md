---
title: 'Database CI/CD and Schema Migration with Redis and GitHub'
author: Ningjing
published_at: 2023/5/9 11:45
feature_image: /content/docs/tutorials/database-change-management-with-redis-and-github/feature-image.webp
tags: Tutorial
integrations: Redis, GitHub
level: Intermediate
estimated_time: '30 mins'
description: This tutorial will bring your Redis data change to the next level by introducing the GitOps workflow, where you commit data change script to the GitHub repository, which will in turn trigger the data change pipeline in Bytebase.
---

A series of articles about Database CI/CD and Schema Migration with Redis

- [Database CI/CD and Schema Migration with Redis](/docs/tutorials/database-change-management-with-redis)
- Database CI/CD and Schema Migration with Redis and GitHub (this one)

---

In the last article [Database CI/CD and Schema Migration with Redis](/docs/tutorials/database-change-management-with-redis), you have tried UI workflow in Bytebase.

This tutorial will bring you to the next level by introducing the GitOps workflow, where you commit the schema change script to the GitHub repository, which will in turn trigger the schema deployment pipeline in Bytebase.

You can use Bytebase free version to finish the tutorial.

## Features included

- GitOps Workflow

## Prerequisites

Before you start this tutorial, make sure:

- You have followed our previous UI-based change tutorial [Database CI/CD and Schema Migration with Redis](/docs/tutorials/database-change-management-with-redis).
- You have [a local running Redis](https://redis.io/docs/getting-started/installation/).
- You have a [GitHub](https://github.com/) account.
- You have a public GitHub repository, e.g. `test-bb-gitops`.
- You have [Docker](https://www.docker.com/) installed locally.
- You have a [ngrok](http://ngrok.com) account.

## Step 1 - Run Bytebase in Docker and set the External URL generated by ngrok

<IncludeBlock url="/docs/get-started/install/vcs-with-ngrok"></IncludeBlock>

## Step 2 - Find your Redis instance in Bytebase

1. Visit Bytebase Console through the browser via your ngrok URL. Log in using your account created from the previous tutorial.

1. Transfer in one Redis database or two for different environments, refer to [previous tutorial](/docs/tutorials/database-change-management-with-redis) if you need help.
   ![home](/content/docs/tutorials/database-change-management-with-redis-and-github/bb-project-dbs-redis.webp)

## Step 3 - Connect Bytebase with GitHub.com

<IncludeBlock url="/docs/tutorials/share/vcs-with-github"></IncludeBlock>

## Step 4 - Enable GitOps workflow with Redis

<IncludeBlock url="/docs/tutorials/share/vcs-in-project-github"></IncludeBlock>

## Step 5 - Change data for Redis by pushing SQL data change files to GitHub

1. In your GitHub repository `test-bb-gitops`, create a folder `bytebase`, then create an sql file `202400509_set_name_betty.sql`.

   Paste the sql script in it.

   ```text
   set name betty
   ```

1. Create a new branch for this commit and start a pull request. Click **Merge pull request** to merge the new branch into the main branch.
   ![gh-branch-betty](/content/docs/tutorials/database-change-management-with-redis-and-github/gh-branch-betty.webp)

1. Go to Bytebase, and go into project `Sample Project`. You’ll find there is a new `Push Event` and a new issue created.
   ![bb-push-notification-only](/content/docs/tutorials/database-change-management-share/bb-push-notification-only.webp)

1. Click and go to the issue page, you’ll see

   1. The issue is created via GitHub.com, there's a link to the GitHub commit.
   1. The SQL is exactly the one we have committed to the GitHub repository.
   1. The SQL has passed the automatic task checks and rollout automatically.
   1. Since there're two databases in the project, Bytebase creates a 2-staged pipeline to roll out the change sequentially.

      ![bb-issue-done](/content/docs/tutorials/database-change-management-share/bb-issue-done-redis.webp)

## Summary and Next

<IncludeBlock url="/docs/tutorials/share/vcs-summary-github"></IncludeBlock>
